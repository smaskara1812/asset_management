#!/bin/bash

echo "ðŸš€ Free Tier Deployment Guide for Asset Management App"
echo "=================================================="

echo ""
echo "ðŸ“‹ Step 1: Deploy Backend to Railway (Free)"
echo "1. Go to https://railway.app"
echo "2. Sign up with GitHub"
echo "3. Click 'New Project' â†’ 'Deploy from GitHub repo'"
echo "4. Select your 'asset_management' repository"
echo "5. Railway will auto-detect Django"
echo ""

echo "ðŸ“‹ Step 2: Add PostgreSQL Database"
echo "1. In Railway dashboard, click 'New' â†’ 'Database' â†’ 'PostgreSQL'"
echo "2. Copy the DATABASE_URL from the database service"
echo ""

echo "ðŸ“‹ Step 3: Set Environment Variables in Railway"
echo "Go to your service â†’ Variables tab and add:"
echo ""
echo "SECRET_KEY=$(python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())')"
echo "DATABASE_URL=postgresql://user:pass@host:port/dbname"
echo "DJANGO_SETTINGS_MODULE=asset_backend.settings_production"
echo "DEBUG=False"
echo "ALLOWED_HOSTS=*.railway.app"
echo ""

echo "ðŸ“‹ Step 4: Deploy Frontend to Vercel (Free)"
echo "1. Go to https://vercel.com"
echo "2. Sign up with GitHub"
echo "3. Click 'New Project' â†’ Import your repository"
echo "4. Configure:"
echo "   - Framework Preset: Vite"
echo "   - Root Directory: asset_frontend"
echo "   - Build Command: npm run build"
echo "   - Output Directory: dist"
echo ""

echo "ðŸ“‹ Step 5: Set Frontend Environment Variable"
echo "In Vercel dashboard â†’ Settings â†’ Environment Variables:"
echo "VITE_API_URL=https://your-railway-backend-url.railway.app/api"
echo ""

echo "âœ… Your app will be live at:"
echo "Frontend: https://your-project-name.vercel.app"
echo "Backend: https://your-project-name.railway.app"
echo ""

echo "ðŸ’° Cost: $0/month (within free tier limits)"
echo ""

echo "ðŸ”§ Troubleshooting:"
echo "- Check Railway logs if backend fails"
echo "- Check Vercel logs if frontend fails"
echo "- Verify environment variables are set correctly"
echo "- Test API endpoints at https://your-backend.railway.app/api/"
